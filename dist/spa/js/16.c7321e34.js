(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[16],{"2ff9":function(t,s,e){"use strict";e.r(s);var o=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"q-pa-md items-center justify-center q-gutter-md",staticStyle:{"max-width":"90rem",margin:"0 auto"}},[e("div",{staticClass:"text-h5",staticStyle:{position:"relative"}},[t._v("Update Profile")]),e("q-card",{staticClass:"q-pa-md",attrs:{flat:"",bordered:""}},[e("q-card-section",{attrs:{horizontal:""}},[e("div",{staticClass:"gt-xs col-4 text-center text-caption q-mt-lg"},[e("q-avatar",{attrs:{size:"100px","font-size":"52px",color:"grey-6","text-color":"white",icon:"account_circle"}}),e("div",{staticClass:"q-mt-lg text-h5"},[t._v("\n          "+t._s(t.user.name)+"\n        ")]),e("div",{staticClass:"text-subtitle1"},[t._v("\n          "+t._s(t.user.email)+"\n        ")])],1),e("q-card-section",{staticClass:"col"},[e("q-form",{staticClass:"q-gutter-md q-pa-md",on:{click:function(t){t.stopPropagation()},submit:function(s){return s.preventDefault(),t.onSubmit()}}},[e("div",{staticClass:"row q-pa-lg q-col-gutter-md justify-center"},[e("div",{staticClass:"col-md-6 col-sm-6 col-xs-12 col-lg-5"},[e("label",{attrs:{for:""}},[t._v("Name")]),e("q-input",{attrs:{rounded:"",outlined:"",dense:"",color:"purple-12",placeholder:"Name","lazy-rules":"",rules:[function(t){return t&&t.length>0||"Please type something"}]},model:{value:t.user.name,callback:function(s){t.$set(t.user,"name",s)},expression:"user.name"}}),e("label",{attrs:{for:""}},[t._v("Password")]),e("q-input",{attrs:{rounded:"",color:"purple-12",dense:"",outlined:"",placeholder:"Password"},model:{value:t.user.password,callback:function(s){t.$set(t.user,"password",s)},expression:"user.password"}})],1),e("div",{staticClass:"col-md-6 col-sm-6 col-xs-12 col-lg-5"},[e("label",{attrs:{for:""}},[t._v("Email")]),e("q-input",{attrs:{type:"email",rounded:"",outlined:"",color:"purple-12",dense:"",placeholder:"Email","lazy-rules":"",rules:[function(t){return t&&t.length>0||"Please type something"}]},model:{value:t.user.email,callback:function(s){t.$set(t.user,"email",s)},expression:"user.email"}}),e("label",{attrs:{for:""}},[t._v("Confirm Password")]),e("q-input",{attrs:{rounded:"",outlined:"",color:"purple-12",dense:"",placeholder:"Confirm Password"},model:{value:t.user.password_confirmation,callback:function(s){t.$set(t.user,"password_confirmation",s)},expression:"user.password_confirmation"}})],1),e("div",{staticClass:"col-md-6 col-sm-8 col-xs-12 col-lg-5"},[t.error?e("small",{staticClass:"text-red"},[t._v(t._s(t.error))]):t._e(),e("br"),e("small",[t._v("leave it blank to keep the same")]),e("br"),e("q-btn",{staticClass:"q-mt-md",staticStyle:{color:"#26A69A"},attrs:{type:"submit",rounded:"",outline:"",label:"Update",icon:"done"}})],1)])])],1)],1)],1)],1)},a=[],r=e("ded3"),l=e.n(r),i=e("2f62"),n={mounted(){let t={};this.user=Object.assign(t,this.$store.state.store.userDetails)},data(){return{user:{id:"",name:"",email:"",password:"",password_confirmation:""},error:""}},methods:l()(l()({},Object(i["b"])("store",["loginUser"])),{},{onSubmit(){console.log("submitted"),!this.user.password&&!this.user.password_confirmation||this.user.password===this.user.password_confirmation?(this.error="",this.$axios.post(this.$store.state.store.APP_URL+"user/update",this.user).then((t=>{console.log(t.data),this.$q.notify({message:"Profile updated successfully",color:"green-4",position:"top",icon:"thumb_up"}),this.$axios.post("http://127.0.0.1:8000/logout").then((t=>{this.$router.push("/login")})).catch((t=>{console.log(t)}))})).catch((t=>{console.log(t.message),this.edit=!1,this.$q.notify({message:t.message,color:"red-4",position:"top",icon:"warning"})}))):this.error="Password do not match"}})},c=n,u=e("2877"),d=e("f09f"),m=e("a370"),p=e("cb32"),f=e("0378"),h=e("27f9"),g=e("9c40"),b=e("eebe"),v=e.n(b),w=Object(u["a"])(c,o,a,!1,null,null,null);s["default"]=w.exports;v()(w,"components",{QCard:d["a"],QCardSection:m["a"],QAvatar:p["a"],QForm:f["a"],QInput:h["a"],QBtn:g["a"]})}}]);